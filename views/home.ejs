<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous"></script>
    <title>Home</title>
    <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap');  
    .restaurant .card {
        position: relative;
        overflow: hidden;
    }

    .offer {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgb(129, 193, 238); /* semi-transparent */
        color: white;
        text-align: center;
        align-content: center;
        border-radius: 10px;
        font-size: 20px;
        opacity: 0;
        transition: opacity 0.3s ease;
        z-index: 5;
        overflow-y: scroll;
        overflow-y: auto; /* better than scroll */
        scrollbar-width: thin; /* Firefox */
        scrollbar-color: rgba(255,255,255,0.4) transparent; 
    }

    .restaurant:hover .offer {
        opacity: 1;
    }
</style>

</head>
<body class="bg-body-light">
    <%- include('./partials/header') %>
    <div class="container mt-5 pt-lg-5 pt-2">
        <div class="row mt-5 pt-5 align-items-center">
            <div class="col-lg-6 col-12 text">
                <h1 class="col text-lg-start text-center">Can't decide where to go?</h1>
                <div class="col text-lg-start text-center lead fs-4 description text-muted">From hidden gems to local favorites, discover restaurants with ease and find the perfect spot for any occasion.</div>
            </div>
            <div class="col-lg-6 col-12 car">
                <img src="https://s7ap1.scene7.com/is/image/tatamotors/sunlit-yellow-left?$VH-708-500-D$&fit=crop&fmt=webp-alpha" alt="" class="w-100">
            </div>
        </div>
        <% if(rows){ %>
            <% let number = 0 %>
            <% rows.forEach(row => { %>
                <% number++ %>
            <% }) %>
            <h2 class="text-center mt-5 pt-5 mb-5">
                <%= number === 1 
                    ? '1 restaurant has an ongoing offer' 
                    : number > 1 
                        ? `${number} restaurants have ongoing offers` 
                        : '' 
                %>
            </h2>
            <div class="row">            
                <% rows.forEach(row => { %>
                    <a href="/user/restaurant/<%= row.id %>" class="col-lg-3 col-md-6 col-12 mb-3 restaurant" style="text-decoration: none;">
                        <div class="card w-100 rounded-4">
                            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRfNjCf0E0w1f_faSBhmSnS4XX2RVfBDp5_8Q&s"
                                class="card-img-top bg-danger-subtle" alt="" loading="lazy">
                            <div class="card-body">
                                <h5 class="card-title"><%= row.name %></h5>
                            </div>
                        </div>
                    </a>
                <% }) %>
            </div> 
        <% } %>
    </div>
    <%- include('./partials/footer') %>
</body>
</html>